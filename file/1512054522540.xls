<!doctype "-//w3c//dtd html 4.01 transitional//en">
<html>
<head>
    <base href="https://login.tradedoubler.com/pan/">
    <title>TradeDoubler - Sale and lead breakdown report</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="copyright" content="Copyright &copy; 2017 Tradedoubler">        <!-- TBOX-667 -->

<link rel="stylesheet" href="/pan/website/css/merchantReportStyle.css" type="text/css">
    <link rel="stylesheet" href="/advertiser/styles/keepsessionalive.css?435334" type="text/css">
    <link type="text/css" rel="stylesheet" href="/pan/utils/css/report.css">
    <link type="text/css" rel="stylesheet" href="/pan/website/css/style.css">
    <link type="text/css" rel="stylesheet" href="/pan/website/css/menu_base.css">
    <link type="text/css" rel="stylesheet" href="/pan/website/css/calendar.css">
    <style type="text/css">
		html, body {/*causes the new TD footer to appear at the bottom of page*/
			min-height:100%;
			height:100%;
		}

        #newProgramTable {
            height: 100%;
        }

        .outerpopup {
            background-color:#cccccc;
            z-index: 400;
            position:absolute;
            top:0px;
            left:0px;
            opacity:.5;
            width:100%;
            height:1000px;
            filter: progid: DXImageTransform . Microsoft . Alpha( opacity = 50 );
        }

        .innerpopup {
            z-index: 500;
            border: solid 4px #84b2c5;
            background-color: #ffffff;
            position: absolute;
            left: 120px;
            top: 70px;
            width: 800px;
            height: 600px;
        }
    </style>

    <link type="text/css" rel="stylesheet" href="/pan/website/css/menu.css">
            <link type="text/css" rel="stylesheet" href="/pan/websiteMerchant/css/merchant.css"><script language="JavaScript" src="/pan/website/js/global.js"></script>
    <script language="JavaScript" src="/pan/website/js/cookies.js"></script>
    <script language="JavaScript" src="/pan/website/js/menu.js"></script>
    <script language="JavaScript" src="/pan/website/js/tabMenu.js"></script>
    </head>
 <body class="brandingBackground">
    <!-- Google Tag Manager -->
 <noscript><iframe src="//www.googletagmanager.com/ns.html?id=GTM-MBZRDP"
                   height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>

 <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
         new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
         j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
         '//www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
 })(window,document,'script','dataLayer','GTM-MBZRDP');</script>
 <!-- End Google Tag Manager -->
 <table class="header" width="760" cellpadding="0" cellspacing="0">
	<tr>
		<td style="width: 180px">
			<a href="/pan/mStartPage.action?resetMenu=true"><img src="/pan/website/images/logo.png" alt="TradeDoubler" style="padding:10px"></a>
		</td>
	</tr>
	<tr>
		<td style="padding: 10px">
			<a href="/advertiser/jsp/general/logout.jsp">Salir</a>
			|
			<a href="/pan/mStartPage.action?resetMenu=true">Inicio</a>
		</td>
	</tr>
</table>
<br /><br />
<table border="0" cellpadding="0" cellspacing="0" width="100%" style="width:100%">
          <tr>
            <td background="/pan/website/images/top_bg_merchant.gif"><img src="/pan/website/images/topbanner_merchant.gif"></td>
          </tr>
        </table>
    <!--- ********************* MAIN ********************************************************** -->
<div id="popBox" onMouseOver="clearTimeout(timeout);" onMouseOut="popBoxOut(event);"></div>
<div id="popBoxShadow"></div>
<table style="width:770px">
<tr>
  <td style="width:180px" valign="top">
    <img src="/pan/img/inv.gif" height="1" width="170"><br><!-- Add your own PVN logotype here in the textkey PVN_PVN_LOGOTYPE_MERCHANT! --><!-- Menu -->
    <!--merchantMenu.inc begin-->
<form action="mStartPage.action" id="merchantMenuForm">
    <span class="menu2">
        <div class="menu2Common menu2Level1 menu2Header"><a href="/pan/mStartPage.action?resetMenu=true">Inicio</a></div>
        <div class="menu2Common menu2Level2">
                <select id="programChooserId" name="programId" onChange="getById('merchantMenuForm').submit()" class="input" style="width:152px">
                    <option value="285497" selected class="select_active" >Gamiss ES&nbsp(ES)</option>
                    <option value="285486" class="select_active" >Rosegal ES&nbsp(ES)</option>
                    <option value="285498" class="select_active" >Rosewholesale ES&nbsp(ES)</option>
                    <option value="272513" class="select_inactive" >Sammydress ES [CLOSED 20/09/2017]&nbsp(ES)</option>
                    <option value="285485" class="select_active" >Zaful ES&nbsp(ES)</option>
                    </select>
            </div>
        <script language="JavaScript">
            
                newFolder('Gestión de creatividades');
                
                    newNode('Creatividades', '/pan/mGEGraphicalElementListAction.action?programId=285497&reset=true');
                
                        newNode('AdTool', '/pan/mPFContentUnitList.action?programId=285497');
                    
                        newNode('Grupos de anuncios', '/pan/mAdGroupListAction.action?programId=285497');
                    
                        newNode('Cupón', '/pan/mListVouchers.action?programId=285497');
                    

                closeFolder();
            

            newFolder('Configuración');

            
                    newNode('Gestión', '/pan/mWebsiteStatusRead.action?programId=285497');
                
                    newNode('Información contable', '/pan/mProgramTariffList.action?programId=285497');
                
                newNode('Comprobar implementación', '/pan/mTrackingCheckImplementationRead.action');
            
                newNode('Datos del usuario', '/pan/mPasswordRead.action');
            
                newNode('Preguntas sobre transacciones', '/pan/mClaimsList.action?programId=285497');
             
                newNode('API de Conversiones', '/pan/mManageConversions.action?programId=285497');
            

            closeFolder();

            newFolder('Informes');

            
                newNode('Mis informes', '/pan/mReport3DisplayFavorites.action?tabSet=mReport3MyReports');
            
                    newNode('Vista general', '/pan/mReport3Selection.action?reportName=mMerchantOverviewReport');
                
                newNode('Informe de elementos gráficos', '/pan/mReport3Selection.action?reportName=mMerchantGraphicalElementReport');
            
                newNode('Rendimiento', '/pan/mReport3Selection.action?reportName=mMerchantDailyEventsReport');
            
                    newNode('Evento personalizado', '/pan/mReport3Selection.action?reportName=mMerchantCustomEventReport');
                

            closeFolder();

            newFolder('Otros informes');

            
                newNode('Reclutamiento', '/pan/mReport3Selection.action?reportName=mMerchantRecruitmentReport');
                
                newNode('Informe de ventas y registros', '/pan/mReport3Selection.action?reportName=mMerchantSaleAndLeadBreakdownReport');
            
                newNode('Informe General Mobile', '/pan/mReport3Selection.action?reportName=mMerchantMobileOverviewReport');
            
                    newNode('Informe de transacciones por mes', '/pan/mReport3Selection.action?reportName=mMerchantTransactionsPerMonthReport');
                
                    newNode('Especificaciones de la factura antigua', '/pan/mReport3Selection.action?reportName=mMerchantDetailedInvoiceReport');
                
                    newNode('Detalle de facturas', '/pan/mInvoiceSpecificationRedirect.action?programId=285497');
                
                        newNode('Informe por segmentos', '/pan/mReport3Selection.action?reportName=mMerchantSegmentReport');
                    
                    newNode('Informe de categorías', '/pan/reportSelection/mProgramAffiliateCategory');
                
                    newNode('Feed Category Breakdown&nbsp;', '/pan/mReport3Selection.action?reportName=mMerchantFeedCategoryBreakdownReport');
                
                    newNode('Top de productos', '/pan/mReport3Selection.action?reportName=mMerchantTopProductsReport');
                
                    newNode('Adserving&nbsp;', '/pan/mReport3Selection.action?reportName=mMerchantAdservingReport');
                
                    newNode('Informe por lotes', '/pan/reportSelection/mBatchFiles');
                
                        newNode('Informe de content units', '/pan/reportSelection/mContentUnitOverview');
                    

            closeFolder();

            
                newFolder('Información');
                newNode('Manuales', '/pan/mInfoCenter.action?textKey=INFORMATION_MERCHANT_MANUALS_USER_MANUAL');
                
                    newNode('Centro de información', '/pan/mInfoCenter.action?textKey=INFORMATION_MERCHANT_INFOCENTER_CUSTOMER_CENTER');
                
                closeFolder();
            
                initMenu();
            </script>
    </span>
</form>
<!--merchantMenu.inc begin-->
</td>
  <td style="width:590px" valign="top" class="contentWindow">
    <img src="/pan/img/inv.gif" height="1" width="590"><br>

<table style="width:100%;  margin-top: 2px; padding: 0px 2px 2px 2px;">
    <tr><td style="padding: 5px" valign="top">
<!--<html>-->
 <!--<head>-->

 <link rel="stylesheet" href="/pan/utils/css/report3Selection.css" type="text/css">


 <div id="columnDropdown" style="visibility:hidden;position:absolute">
    
<select name="%NAME"
                        			       class="input"					         			       style="width: 150px"				         >



            

                
                
        <option value="organizationId">Org ID</option>

                    

                
                
        <option value="graphicalElementId">ID de elemento gr&#xE1;fico</option>

                    

                
                
        <option value="orderValue">Valor de compra</option>

                    

                
                
        <option value="cdt_validation_method_id">Cross Device</option>

                    

                
                
        <option value="programId">Programa ID</option>

                    

                
                
        <option value="eventId">Evento ID</option>

                    

                
                
        <option value="siteId">Sitio web ID</option>

                    

                
                
        <option value="product_value">Producto Valor</option>

                    

                
                
        <option value="tdCommission">Comisi&#xF3;n TD</option>

                    

                
                
        <option value="affiliateCommission">Comisi&#xF3;n Pub. Total</option>

                    

                
                
        <option value="totalCommission">Comisi&#xF3;n Total</option>

            
</select>
</div>

<div style="visibility:hidden;position:absolute">
    <table id="customKeyMetric">
        <tr>
            <td> <table>
                    <tr><td><div>
<label
    >Nombre de parámetros de medición</label></div></td>
                        <td><div align="right" >
<label
    >Summary Type</label></div></td>
                    </tr>
                </table>
                </td>
        </tr>
        <tr>
            <td nowrap="nowrap">
                <div align="left">
                    
<input type="text"
                                   name="metric%METRIC_COUNT.name"
               id="metric%METRIC_COUNT.name"                				   class="input"					    				   style="width: 150px"					    />
<input type="text"
                                   name="metric%METRIC_COUNT.midFactor"
               id="metric%METRIC_COUNT.midFactor"                         class="reportInputField"
         style="width:50px"
/>
<select name="metric%METRIC_COUNT.midOperator"
                                 class="reportInputField"
                 style="width:40px"
        >



            

                
                
        <option value="/">/</option>

                    

                
                
        <option value="*">*</option>

                    

                
                
        <option value="+">+</option>

                    

                
                
        <option value="-">-</option>

            
</select>

<select name="metric%METRIC_COUNT.columnName1"
                                 class="reportInputField"
        			       style="width: 150px"				         >



            

                
                
        <option value="organizationId">Org ID</option>

                    

                
                
        <option value="graphicalElementId">ID de elemento gr&#xE1;fico</option>

                    

                
                
        <option value="orderValue">Valor de compra</option>

                    

                
                
        <option value="cdt_validation_method_id">Cross Device</option>

                    

                
                
        <option value="programId">Programa ID</option>

                    

                
                
        <option value="eventId">Evento ID</option>

                    

                
                
        <option value="siteId">Sitio web ID</option>

                    

                
                
        <option value="product_value">Producto Valor</option>

                    

                
                
        <option value="tdCommission">Comisi&#xF3;n TD</option>

                    

                
                
        <option value="affiliateCommission">Comisi&#xF3;n Pub. Total</option>

                    

                
                
        <option value="totalCommission">Comisi&#xF3;n Total</option>

            
</select>

<select name="metric%METRIC_COUNT.operator1"
                                 class="reportInputField"
                 style="width:40px"
        >



            

                
                
        <option value="/">/</option>

                    

                
                
        <option value="*">*</option>

                    

                
                
        <option value="+">+</option>

                    

                
                
        <option value="-">-</option>

            
</select>

<select name="metric%METRIC_COUNT.columnName2"
                                 class="reportInputField"
        			       style="width: 150px"				         >



            

                
                
        <option value="organizationId">Org ID</option>

                    

                
                
        <option value="graphicalElementId">ID de elemento gr&#xE1;fico</option>

                    

                
                
        <option value="orderValue">Valor de compra</option>

                    

                
                
        <option value="cdt_validation_method_id">Cross Device</option>

                    

                
                
        <option value="programId">Programa ID</option>

                    

                
                
        <option value="eventId">Evento ID</option>

                    

                
                
        <option value="siteId">Sitio web ID</option>

                    

                
                
        <option value="product_value">Producto Valor</option>

                    

                
                
        <option value="tdCommission">Comisi&#xF3;n TD</option>

                    

                
                
        <option value="affiliateCommission">Comisi&#xF3;n Pub. Total</option>

                    

                
                
        <option value="totalCommission">Comisi&#xF3;n Total</option>

            
</select>

<select name="metric%METRIC_COUNT.lastOperator"
                        			       class="input"					                  style="width:40px"
        >



            

                
                
        <option value="/">/</option>

                    

                
                
        <option value="*">*</option>

                    

                
                
        <option value="+">+</option>

                    

                
                
        <option value="-">-</option>

            
</select>

<input type="text"
                                   name="metric%METRIC_COUNT.factor"
               id="metric%METRIC_COUNT.factor"                         class="reportInputField"
         style="width:50px"
/>
<select name="metric%METRIC_COUNT.summaryType"
                                 class="reportInputField"
                 style="width:60px"
        >



            

                
                
        <option value="NONE">NONE</option>

                    

                
                
        <option value="TOTAL">TOTAL</option>

                    

                
                
        <option value="AVERAGE">AVERAGE</option>

                    

                
                
        <option value="RATE">RATE</option>

            
</select>
</div>
                </td>
            <td>
                <div align="left">
                    
                    &nbsp;
                </div>
            </td>
        </tr>
    </table>
</div>

 <div id="programCriteriaHelp" style="visibility:hidden;position:absolute;">
     <span>
         <p style="width:400px;">
         Select this option if you want to save your program search criteria.This will run the favourite report for programs matching the criteria you specify.If no criteria is specified it will run the report for all programs accessible to the Spaceport user.</p>
     </span>
 </div>

     
     <script language="JavaScript" src="/pan/website/js/date.js"></script>
<script language="JavaScript">

         function validateDate(minRelativeIntervalStartDate, maxIntervalSize, aggregateInterval, intervalType, format) {

             if ((typeof document.selectionForm.startDate == 'undefined') && (typeof document.selectionForm.startYear == 'undefined')) {
                 disableRunReportBtn(true, format);
                 progressStart('Procesando informe, por favor espere...');
                 return true;
             }

             var dateFormat = 'd/MM/yy';
             var today = new Date();
             var startDate;
             var endDate;
             var isFullDateType = (typeof document.selectionForm.startDate != 'undefined');

             if (isFullDateType) {
                 startDate = Date.parseString(document.selectionForm.startDate.value, dateFormat);
                 endDate = Date.parseString(document.selectionForm.endDate.value, dateFormat);
             } else {
                 if (document.selectionForm.startWeek != null && document.selectionForm.endWeek != null) {
                     var sWeek = document.selectionForm.startWeek.value * 1;
                     var eWeek = document.selectionForm.endWeek.value  * 1;
                     var sYear = document.selectionForm.startYear.value * 1;
                     var eYear = document.selectionForm.endYear.value  * 1;

                     if(sYear <= eYear){
                         if(sYear == eYear){
                             if(sWeek <= eWeek){
                                 return true;
                             } else {
                                 alert('La fecha de inicio no puede ser posterior a la fecha de fin');
                                 return false;
                             }
                         } else {
                             return true;
                         }
                     } else {
                         alert('La fecha de inicio no puede ser posterior a la fecha de fin');
                         return false;
                     }
                 } else {
                     if(typeof document.selectionForm.startMonth == 'undefined') {   // if start month is undefined then use January 1st
                         startDate = new Date(document.selectionForm.startYear.value, 0, 1);
                         if (startDate.isAfter(today)) {
                             startDate  = today;
                         }
                     } else {
                         startDate = new Date(document.selectionForm.startYear.value, document.selectionForm.startMonth.value - 1, 1);
                     }

                     if(typeof document.selectionForm.endMonth == 'undefined') {   // if end month is undefined then use 31st December
                     	 endDate = new Date(document.selectionForm.endYear.value, 11, 31);
                         if (endDate.isAfter(today)) {
                             endDate    = today;
                         }
                     } else {
                         endDate = new Date(document.selectionForm.endYear.value, document.selectionForm.endMonth.value - 1, 1);
                     }

                     startDate.clearTime();
                     endDate.clearTime();
                     endDate.setLastDayOfMonth();

                     if (endDate.getMonth() == new Date().getMonth() && endDate.getYear() == new Date().getYear()) {
                         endDate = new Date();
                         endDate.clearTime();
                     }
                 }
             }

             if (startDate == null) {
                 alert('Fecha de inicio nó valida');
                 return false;
             }

             if (endDate == null) {
                 alert('Fecha de fin no válida');
                 return false;
             }

             var latestDayToExecute = document.selectionForm.latestDayToExecute.value;
              if(latestDayToExecute == 1){
                 var yesterday = today.add('d', -1);
                 if(endDate.isAfter(yesterday)){
                     alert('Este informe no puede ejecutarse para hoy');
                     return false;
                 }
             }

             if (startDate.isAfter(endDate)) {
                 alert('La fecha de inicio no puede ser posterior a la fecha de fin');
                 return false;
             }

             if (startDate.isAfter(today)) {
                 alert('La fecha de inicio no puede ser una fecha futura');
                 return false;
             }
             // https://jira.tradedoubler.com/browse/FWM-814:
             // allow end date 1 day into the future, to help markets with time zones ahead of the system's time zone
             if (endDate.getTime() > (today.getTime() +86400000)) {
                 alert('La fecha de fin no puede ser una fecha futura');
                 return false;
             }

             var isProcessReport = validatePeriod(startDate, endDate, isFullDateType, dateFormat, minRelativeIntervalStartDate, maxIntervalSize, aggregateInterval,intervalType);
             if (isProcessReport) {
                 disableRunReportBtn(true, format);
                 progressStart('Procesando informe, por favor espere...');
             }

             return isProcessReport;
         }

         function validatePeriod(startDate, endDate, isFullDateType, dateFormat, minRelativeIntervalStartDate, maxIntervalSize, aggregateInterval,intervalType) {

             var earliestRelativeStartDate = new Date(endDate.getTime());
             var earliestPossibleEndDate;
             var earliestPossibleStartDate = new Date();
             earliestPossibleStartDate.clearTime();

             if (isFullDateType) {
                 if(intervalType == 'MONTHS' || intervalType == 'M'){
                 earliestPossibleStartDate.add('M', minRelativeIntervalStartDate * -1);
                 earliestPossibleEndDate = new Date(earliestPossibleStartDate.getTime());
                 earliestPossibleEndDate.add('M', maxIntervalSize);
                 earliestRelativeStartDate.add('M', maxIntervalSize * -1);
                     }
                 else if (intervalType == 'WEEKS' || intervalType == 'W'){
                 earliestPossibleStartDate.add('d', 7*minRelativeIntervalStartDate * -1);
                 earliestPossibleEndDate = new Date(earliestPossibleStartDate.getTime());
                 earliestPossibleEndDate.add('d', 7*maxIntervalSize);
                 earliestRelativeStartDate.add('d', 7*maxIntervalSize * -1);
                 }
             }
             else {
                 if(intervalType == 'MONTHS' || intervalType == 'M' ){
                 earliestPossibleStartDate.add('M', (minRelativeIntervalStartDate - 1) * -1);
                 earliestPossibleStartDate.setDate(1);
                 earliestPossibleEndDate = new Date(earliestPossibleStartDate.getTime());
                 earliestPossibleEndDate.add('M', maxIntervalSize - 1);
                 earliestPossibleEndDate.setLastDayOfMonth();
                 earliestRelativeStartDate.add('M', (maxIntervalSize -1) * -1);
                 earliestRelativeStartDate.setDate(1);
                     }
                 else if (intervalType == 'WEEKS' || intervalType == 'W'){
                 earliestPossibleStartDate.add('d', 7*(minRelativeIntervalStartDate - 1) * -1);
                 earliestPossibleStartDate.setDate(1);
                 earliestPossibleEndDate = new Date(earliestPossibleStartDate.getTime());
                 earliestPossibleEndDate.add('d', 7*maxIntervalSize - 1);
                 earliestPossibleEndDate.setLastDayOfMonth();
                 earliestRelativeStartDate.add('d', 7*(maxIntervalSize -1) * -1);
                 earliestRelativeStartDate.setDate(1);
                 }
             }

             if (minRelativeIntervalStartDate != 0 && startDate.isBefore(earliestPossibleStartDate)) {
                 var option = confirm('La fecha de inicio debe ser posterior ' +
                         earliestPossibleStartDate.format(dateFormat) + '\n' +
                         '¿Desea corregirlo automáticamente y lanzar el proceso?');

                 if (option) {
                     if (isFullDateType) {
                         document.selectionForm.startDate.value = earliestPossibleStartDate.format(dateFormat);
                         document.selectionForm.endDate.value = earliestPossibleEndDate.format(dateFormat);
                         return true;
                     }
                     else {
                         document.selectionForm.startYear.value = earliestPossibleStartDate.getFullYear();
                         document.selectionForm.startMonth.value = earliestPossibleStartDate.getMonth() + 1;
                         document.selectionForm.endYear.value = earliestPossibleEndDate.getFullYear();
                         document.selectionForm.endMonth.value = earliestPossibleEndDate.getMonth() + 1;
                         return true;
                     }
                 }
                 else {
                     return false;
                 }

                 return true;
             }

             if (maxIntervalSize != 0 && startDate.isBefore(earliestRelativeStartDate)) {
                 var option = confirm('¡El intervalo es demasiado extenso!\n' +
                         '¿Desea corregirlo automáticamente y lanzar el proceso?');
                 if (option) {
                     if (isFullDateType) {
                         document.selectionForm.startDate.value = earliestRelativeStartDate.format(dateFormat);
                     }
                     else {
                         document.selectionForm.startYear.value = earliestRelativeStartDate.getYear();
                         document.selectionForm.startMonth.value = earliestRelativeStartDate.getMonth() + 1;
                     }
                 }
                 else {
                     return false;
                 }
             }

             //have to add time period check here
             if(aggregateInterval > 0){
                 var intervalAddedStartDate = new Date(startDate.getTime());
                 if(intervalType == 'MONTHS' || intervalType == 'M'){
                 intervalAddedStartDate.add('M',aggregateInterval);
                 }
                 else if (intervalType == 'WEEKS' || intervalType == 'W'){
                 intervalAddedStartDate.add('d',7*aggregateInterval);
                 }

                 if(endDate.isAfter(intervalAddedStartDate)){
                    var option = confirm('¡Advertencia: El intervalo es demasiado largo!\n' +
                         '¿Desea incorporar los datos al informe y ejecutarlo?');
                     if(option){
                         return true;
                     }else {
                         return false;
                     }
                 }



             }

             return true;
         }

         function disableRunReportBtn(isDisabled, format) {

             if(format != 'HTML'){
                 return;
             }

             var runTopBtn = document.getElementById("rptRunTopBtn");
             var runBottomBtn = document.getElementById("rptRunBottomBtn");
             var runFavBtn = document.getElementById("rptFavRunBtn");

             if(runTopBtn){
                 runTopBtn.disabled = isDisabled;
             }

             if(runBottomBtn){
                 runBottomBtn.disabled = isDisabled;
             }

             if(runFavBtn){
                 runFavBtn.disabled = isDisabled;
             }
         }
</script>
<script language="JavaScript" src="/pan/website/js/reportSelectionFunctions.js"></script>
     <script language="JavaScript">
        var reportFormat = 'HTML';
        function changeFormat(format){
           reportFormat = format;
            if(format == "CSV"){
                getById('seperatordiv').style.display = '';
            }else{
                getById('seperatordiv').style.display = 'none';
            }
        }

        function postBack(form){
            getById('isPostBack').value = 'true';
            doAction('mReport3Selection.action', form, false, null);
        }

        function setColumnCheckboxGroup(columns) {
            if (isAllCheckboxesSelected(columns)) {
                alterCheckboxesOfGroup(columns, null)
            }
            else {
                alterCheckboxesOfGroup(columns, "checked")
            }
        }

        function isAllCheckboxesSelected(columns) {
            var column;
            for (column in columns) {
                var checkbox = getCheckboxByValue(columns[column]);
                if (checkbox != null && !checkbox.checked) {
                    return false;
                }
            }
            return true;
        }

        function alterCheckboxesOfGroup(columns, alteration) {
            var column;
            for (column in columns) {
                var checkbox = getCheckboxByValue(columns[column]);
                if (checkbox != null) {
                    checkbox.checked = alteration;
                    updateAPIURL()
                }
            }
        }

        function getCheckboxByValue(value) {
            var collection = document.getElementsByName("columns");
            for (var i = 0; i < collection.length; i++) {
                if (collection.item(i).value == value) {
                    return collection.item(i);
                }
            }
            return null;
        }

        function callValidate() {
            var isValid = validateCustomKeyMetrices();

            var isDeliOK = false;
            if(getById('formatCSV') != null && getById('formatCSV').checked){
                isDeliOK = validateSeparator();
            }else{
                isDeliOK = true;
            }
            if (isValid && isDeliOK) {
                if (validateDate(0,
                        12,
                        0,
                        'MONTHS',
                        reportFormat)){
                    //we need to clear any favorite parameters(fav ID specifically, but name and description
                    //should be cleared to prevent any confusion) present to prevent the report from running as a favorite
                    clearFavoriteParameters();
                    return true;
                }
            }
            return false;
        }

        //we need to clear any favorite parameters(fav ID specifically, but name and description
        //should be cleared to prevent any confusion) present to prevent the report from running as a favorite
        function clearFavoriteParameters(){
            var elFavoriteId = getById("favoriteId");
            elFavoriteId.setAttribute("value","");

            var elFavoriteName = getById("favoriteName");
            elFavoriteName.setAttribute("value", "");

            var elFavoriteDescription = getById("favoriteDescription");
            elFavoriteDescription.setAttribute("value", "");
        }

        function isNumeric(strString)
           //  check for valid numeric strings
           {
           var strValidChars = "0123456789.-";
           var strChar;
           var blnResult = true;

           if (strString.length == 0) return false;

           //  test strString consists of valid characters listed above
           for (i = 0; i < strString.length && blnResult == true; i++)
              {
              strChar = strString.charAt(i);
              if (strValidChars.indexOf(strChar) == -1)
                 {
                 blnResult = false;
                 }
              }
           return blnResult;
        }

        function validateCustomKeyMetrices() {
            var useMetricColumn = getById("useMetricColumn");
            var metricCount = getById("customKeyMetricCount");
            if (!metricCount) {
                return true;
            }
            if (!useMetricColumn || !useMetricColumn.checked) {
                metricCount.setAttribute("value", 0);
                return true;
            }
            var midVal = null;
            var factor = null;
            for (var i = 1; i <= metricCount.value; i++) {
                var metricName = getById("metric" + i + ".name");
                if (metricName == null || (metricName.value == null || trim(metricName.value) == "" || metricName.value.length == 0)) {
                    alert('Missing custom key name');
                    return false;
                }
                midVal = getById("metric" + i + ".midFactor");
                if(midVal != null){
                    if(midVal.value != "" && !isNumeric(trim(midVal.value))){
                        alert('Value is not numeric.');
                        return false;
                    }
                }else{
                    midVal = getById("#_metric" + i + ".midFactor");
                    if(midVal.value != "" && !isNumeric(trim(midVal.value))){
                        alert('Value is not numeric.');
                        return false;
                    }
                }
                factor = getById("metric" + i + ".factor");
                if(factor != null){
                    if(factor.value != "" && !isNumeric(trim(factor.value))){
                        alert('Value is not numeric.');
                        return false;
                    }
                }else{
                    factor = getById("#_metric" + i + ".factor");
                    if(factor.value != "" && !isNumeric(trim(factor.value))){
                        alert('Value is not numeric.');
                        return false;
                    }

                }

            }
            return true;
        }

        function trim(str) {
            if(!str || typeof str != 'string')
                return null;
            return str.replace(/^[\s]+/,'').replace(/[\s]+$/,'').replace(/[\s]{2,}/,' ');
        }

        function empty(optionList) {
             if (optionList) {
                 for (var i=optionList.length; i > -1;i--) {
                     optionList.options[i] = null;
                 }
             }
         }

        function validateSeparator(){
            var returnVal = true;
            var separator = getById("separator");
            if(separator.value == null){
                returnVal = false;
                alert("Separator is needed");
            }else if(separator.value == ''){
                returnVal = false;
                alert("Separator is needed");
            }else if(separator.value != null && separator.value != '' && separator.value == '\\t'){
                returnVal = true;
            }else if(separator.value != null && separator.value != '' && separator.value.length > 1){
                returnVal = false;
                alert('Separator is invalid');
            }
            return returnVal;
        }

          function optionObject(id, text, value) {
              this.id = id;
              this.opt = new Option(text, value);
          }

          function advanced() {
              getById('mainToggle').style.display = 'none';
              getById('advToggle').style.display = '';
              getById('advBody').style.display = '';
              getById('showAdvanced').value = 'true';
          }

          function normal() {
              getById('mainToggle').style.display = '';
              getById('advToggle').style.display = 'none';
              getById('advBody').style.display = 'none';
              getById('showAdvanced').value = 'false';
          }

          function showAddToFavorites() {
              getById('favMainToggle').style.display = 'none';
              getById('favToggle').style.display = '';
              getById('favBody').style.display = '';
              getById('showFavorite').value = 'true';
          }

          function hideAddToFavorites() {
              getById('favMainToggle').style.display = '';
              getById('favToggle').style.display = 'none';
              getById('favBody').style.display = 'none';
              getById('showFavorite').value = 'false';
          }

          function toggle (el) {
              el.style.display = el.style.display === 'none' ? '' : 'none';
          }

          function toggleAPIURL () {
              toggle(getById('showAPIURLToggle'));
              toggle(getById('hideAPIURLToggle'));
              updateAPIURL();
//              Base URL: , key =
          }

        
          var ORGANIZATION_ID_QS = ''
        
            var PROGRAM_NAME_FILTER = ''
        
        function updateAPIURL () {
            var useMetricColumn = false
              , elements        = document.selectionForm.elements
              , elemsLen        = elements.length
              , i;

            for (i = 0; i < elemsLen; i++) {
                if (elements[i].name === 'useMetricColumn') {
                    useMetricColumn = elements[i].checked;
                    break;
                }
            }

            var metricCount = getById("customKeyMetricCount");

            for (i = 1; i <= metricCount.value; i++) {
                var factor = getById('metric' + i + '.factor')
                if (factor)
                    factor.value = factor.value === '' || factor.value.match(/\./) ? factor.value : factor.value + '.0'
            }

            var pathName = location.pathname.replace('Selection','Key')
            var queryString = serializeForm(document.selectionForm, {
                ignore: [ 'autoCheckbox', 'button1', 'button2', 'favoriteName', 'favoriteDescription', 'favoriteId', 'dateType', 'separator'
                        , 'format', 'period', 'maxIntervalSize', 'minRelativeIntervalStartTime', 'showFavorite', 'showAdvanced', 'programName'
                        , 'run_as_organization_id', 'isPostBack', 'tabMenuName', 'reportPrograms'
                        , { key: 'columns', value: 'year' }, { key: 'columns', value: 'month' }, {key: 'columns', value: 'tradedoublerCategory'}
                        , { key: 'columns', value: 'traffictype'}, PROGRAM_NAME_FILTER]
            });

            if (!useMetricColumn)
              queryString = queryString.replace(/customKeyMetricCount\=\d+/, 'customKeyMetricCount=0')

            var apiURL = getById('apiURL');
            if(apiURL){
                apiURL.textContent = ('https://reports.tradedoubler.com' + pathName + '?' + queryString + ORGANIZATION_ID_QS + '&key=06d7dc66e972674cf2440a4c2382dadd');
            }
        }
        
             function periodChange() {
                 var choosenValue = document.selectionForm.period[document.selectionForm.period.selectedIndex].value;

                 //this will be used in year-to-date, this week, and this month options
                 var periodEndDate = document.selectionForm.latestDayToExecute.value == 0 ? '30/11/17' : '29/11/17';

                 if (choosenValue == "year_to_date") {
                     setDateValues('1/01/17', periodEndDate);
                 } else if (choosenValue == "today") {
                     setDateValues('30/11/17', '30/11/17');
                 } else if (choosenValue == "yesterday") {
                     setDateValues('29/11/17', '29/11/17');
                } else if (choosenValue == "this_week") {
                    setDateValues('27/11/17', periodEndDate);
                } else if (choosenValue == "last_week") {
                    setDateValues('20/11/17', '26/11/17');
                 } else if (choosenValue == "this_month") {
                     setDateValues('1/11/17', periodEndDate);
                 } else if (choosenValue == "last_month") {
                     setDateValues('1/10/17', '31/10/17');
                 }
             }

             function setDateValues(startDate, endDate) {
                 document.selectionForm.startDate.value = startDate;
                 document.selectionForm.endDate.value = endDate;
             }
         

       function getOperatorDropdown(metricNumber, operatorNumber) {
            var operatorTd = document.createElement("td");
            var html = getById('operatorsDropdown').innerHTML;
            html = replace(html, "%NAME", "metric" + metricNumber + ".operator" + operatorNumber);
            html = replace(html, "%VALUE", "customKeyMetrices[" + (metricNumber - 1) + "].operators[" + (operatorNumber - 1) + "]");
            operatorTd.innerHTML = html;
            operatorTd.setAttribute("id", "metric" + metricNumber + ".operator" + operatorNumber)
            return operatorTd;
        }

        function getColumnDropdown(metricNumber, columnNumber) {
            var columnTd = document.createElement("td");
            var html = getById('columnDropdown').innerHTML;
            html = replace(html, "%NAME", "metric" + metricNumber + ".columnName" + columnNumber);
            html = replace(html, "%VALUE", "customKeyMetrices[" + (metricNumber - 1) + "].columnNames[" + (columnNumber - 1) + "]");
            columnTd.innerHTML = html;
            columnTd.setAttribute("id", "metric" + metricNumber + ".columnName" + columnNumber);
            return columnTd;
        }

        function addCustomKeyMetric() {
            var metricTable = getById("metricSection");
            var metricCount = getById("customKeyMetricCount").value;
            var newMetricId = parseInt(metricCount) + 1;

            var tbody = metricTable.tBodies[0];

            var lastRowIndex = getById("metricSection").rows.length - 1;
            var lastRow = getById("metricSection").rows[lastRowIndex];
            tbody.removeChild(lastRow);

            var row1 = getById("customKeyMetric").rows[0].cloneNode(true);
            row1.setAttribute("id", "metric_" + newMetricId + "_0");

            var row2 = getById("customKeyMetric").rows[1].cloneNode(true);
            row2.setAttribute("id", "metric_" + newMetricId + "_1");

            var cells = row2.getElementsByTagName("td");
            var firstCell = cells[0];
            var html = firstCell.innerHTML;
            html = replace(html, "%METRIC_COUNT", newMetricId);
            firstCell.innerHTML = html

            var secondCell = cells[1];
            html = secondCell.innerHTML;
            html = replace(html, "%METRIC_COUNT", newMetricId);
            secondCell.innerHTML = html

            tbody.appendChild(row1);
            tbody.appendChild(row2);
            tbody.appendChild(lastRow);

            getById("customKeyMetricCount").setAttribute("value", newMetricId);
            updateAPIURL();
        }

        function deleteKeyMetric(metricId) {
            var metricTable = getById("metricSection");
            var metricTbody = metricTable.tBodies[0];

            var row0 = getById("metric_" + metricId + "_0");
            var row1 = getById("metric_" + metricId + "_1");

            metricTbody.removeChild(row0);
            metricTbody.removeChild(row1);

            var metricCount = getById("customKeyMetricCount").value;
            var newMetricId = parseInt(metricCount) - 1;
            getById("customKeyMetricCount").setAttribute("value", newMetricId);
            updateAPIURL();
        }

        
        function deleteLastKeyMetric() {
            var metricCount = getById("customKeyMetricCount").value;
            var metricId = parseInt(metricCount);

            if(getById("metric_" + metricId + "_0") && getById("metric_" + metricId + "_1")){
                var metricTable = getById("metricSection");
                var metricTbody = metricTable.tBodies[0];

                var row0 = getById("metric_" + metricId + "_0");
                var row1 = getById("metric_" + metricId + "_1");

                metricTbody.removeChild(row0);
                metricTbody.removeChild(row1);

                var newMetricId = metricId - 1;
                getById("customKeyMetricCount").setAttribute("value", newMetricId);
            }
        }

        function getCodePopUpProgramCriteriaHelp() {
            var html = getById('programCriteriaHelp').innerHTML;
            return html;
        }
     </script>
 <!--</head>-->

 <!--<body>-->
 <form
 namespace=""                          id="#"                 name="selectionForm"           action="#"       method="post"   >
    
<input
    type="hidden"
          name="reportName"            value="mMerchantSaleAndLeadBreakdownReport"                     id="#_reportName"           /><input
    type="hidden"
          name="tabMenuName"            value=""                     id="#_tabMenuName"           /><input
    type="hidden"
          name="isPostBack"            value=""                     id="isPostBack"           /><input
    type="hidden"
          name="showAdvanced"            value="false"                     id="showAdvanced"           /><input
    type="hidden"
          name="showFavorite"            value="false"                     id="showFavorite"           /><input
    type="hidden"
          name="run_as_organization_id"            value=""                     id="#_run_as_organization_id"           /><input
    type="hidden"
          name="minRelativeIntervalStartTime"            value="0"                     id="#_minRelativeIntervalStartTime"           /><input
    type="hidden"
          name="maxIntervalSize"            value="12"                     id="#_maxIntervalSize"           /><input
    type="hidden"
          name="interval"            value="MONTHS"                     id="#_interval"           /><input
    type="hidden"
          name="reportPrograms"            value=""                     id="#_reportPrograms"           /><input
    type="hidden"
          name="reportTitleTextKey"            value="REPORT3_SERVICE_REPORTS_MMERCHANTSALESANDLEADBREAKDOWNREPORT_TITLE"                     id="#_reportTitleTextKey"           /><input
    type="hidden"
          name="setColumns"            value="true"                     id="#_setColumns"           /><input
    type="hidden"
          name="latestDayToExecute"            value="0"                     id="#_latestDayToExecute"           /><table class="tableBox">
     <tr>
         <th>Sale and lead breakdown report</th>
         <th>
<div align="right"><a href="javascript:CustomWindow('/pan/displayPageHelp.action?textKey=REPORT3_SERVICE_MMERCHANTSALESANDLEADBREAKDOWNREPORT3_SELECTION_HELP&textKeyTitle=REPORT_HELP_TITLE', 400, 400)"><img src="/pan/images/help.gif" border="0"></a></div></th>
     </tr>
     <tr>
         <td colspan="2">
                 <span class="errorLabel">
            El período del informe es demasiado largo
                <br/>
                </span>
    <span class="errorLabel">
        </span>
</td>
     </tr>
     <tr>
         <td colspan="2">
             <table>
                 <tr style="vertical-align: top">
                <td>
                        <table>
                             <script language="javascript">
var segments = null;
var countries = null;
var campaigns = null;
var pools = null;


    segments = new Array(
    
            new optionObject(272513, 'Coupon sites', 4),
        
            new optionObject(272513, 'General', 1),
        
            new optionObject(272513, 'Test', 2),
        
            new optionObject(272513, 'Top publisher', 3),
        
            new optionObject(285485, 'Coupon sites segment', 4),
        
            new optionObject(285485, 'General', 1),
        
            new optionObject(285485, 'Test', 2),
        
            new optionObject(285485, 'Top Publishers Segment', 3),
        
            new optionObject(285486, 'Coupon sites segment', 4),
        
            new optionObject(285486, 'General', 1),
        
            new optionObject(285486, 'Test', 2),
        
            new optionObject(285486, 'Top Publishers Segment', 3),
        
            new optionObject(285497, 'Coupon sites segment', 4),
        
            new optionObject(285497, 'General', 1),
        
            new optionObject(285497, 'Test', 2),
        
            new optionObject(285497, 'Top Publishers Segment', 3),
        
            new optionObject(285498, 'Coupon sites segment', 4),
        
            new optionObject(285498, 'General', 1),
        
            new optionObject(285498, 'Test', 2),
        
            new optionObject(285498, 'Top Publishers Segment', 3),
        
            new optionObject(null, null, null)
        );


function fillSegments(programId) {
    empty(document.selectionForm.segmentId);
    var count = 0;

    document.selectionForm.segmentId.options[count] = new Option('Todos','');
    count++;

    if(segments == null) {
        return;
    }
    for (i = 0; i < segments.length - 1; i++) {
        if (segments[i].id == programId) {
            document.selectionForm.segmentId.options[count] = segments[i].opt;
            
            if (document.selectionForm.segmentId.options[count].value == '') {
                document.selectionForm.segmentId.options[count].selected = true;
            }
            
            count++;
        }
    }
}

function fillCountries(programId) {
    empty(document.selectionForm.countryId);
    var count = 0;

    //All programs, then show To view for all Countries.
    if(programId == 0){
        document.selectionForm.countryId.options[count] = new Option('Todos','');
    }
    if(countries == null){
        return;
    }
    for (i=0; i<countries.length-1; i++) {
        if (countries[i].id == programId || (programId == -1)) {
            document.selectionForm.countryId.options[count] = countries[i].opt;
            
            count++;
        }
    }
}

function fillCampaigns(programId) {
    empty(document.selectionForm.campaignId);
    var count = 0;

    if(campaigns == null) {
        return;
    }
    for (i = 0; i < campaigns.length - 1; i++) {
        if (campaigns[i].id == programId) {
            document.selectionForm.campaignId.options[count] = campaigns[i].opt;
            
            count++;
        }
    }
}

function fillPools(programId) {
    empty(document.selectionForm.poolId);
    var count = 0;

    if(pools == null) {
        return;
    }
    for (i = 0; i < pools.length - 1; i++) {
        if (pools[i].id == programId) {
            document.selectionForm.poolId.options[count] = pools[i].opt;
            
            count++;
        }
    }
}

function rebuild() {
    if (document.selectionForm.programId) {
        var programId;
        if(document.selectionForm.programId.options){
            programId = document.selectionForm.programId.options[document.selectionForm.programId.selectedIndex].value;
        } else {
            // getting the programId from the hidden variable
            programId = document.selectionForm.programId.value;
        }
        if(programId){
        
            fillSegments(programId);
        
        }
    } else {
         
    }
}
</script>
        <input
    type="hidden"
          name="allPrograms"            value="false"             /><tr style="vertical-align: top">
                    <td><label>Programa:</label></td>
                    <td>
                    
<select name="programId"
                               id="programId_selection"                              class="reportInputField"
        			       style="width: 150px"				             onchange="postBack(this.form)"       >

    <option value="">Todos</option>


            

                
                
        <option value="285497">Gamiss ES (ES)</option>

                    

                
                
        <option value="285486">Rosegal ES (ES)</option>

                    

                
                
        <option value="285498">Rosewholesale ES (ES)</option>

                    

                
                
        <option value="272513" selected="selected">Sammydress ES [CLOSED 20/09/2017] (ES)</option>

                    

                
                
        <option value="285485">Zaful ES (ES)</option>

            
</select>
</td>
                </tr>
            <tr style="vertical-align: top;">
                <td>
                                        <label>Evento:</label>
                                        </td><td>
                                    
<select name="eventId"
                               id="#_eventId"                              class="reportInputField"
        			       style="width: 150px"				             onchange="postBack(this.form)"       >



            

                
                
        <option value="5" selected="selected">All sales</option>

                    

                
                
        <option value="4">All leads</option>

                    

                
                
        <option value="348744">App_Android_download</option>

                    

                
                
        <option value="348748">App_iOS_download</option>

                    

                
                
        <option value="348746">App_Android_sale</option>

                    

                
                
        <option value="348750">App_iOS_sale</option>

                    

                
                
        <option value="354148">DezzalDE_sale</option>

                    

                
                
        <option value="353864">DezzalFR_sale</option>

                    

                
                
        <option value="353736">DezzalIT_sale</option>

                    

                
                
        <option value="359453">Dresslily FR</option>

                    

                
                
        <option value="360781">Dresslily US</option>

                    

                
                
        <option value="353738">DresslilyIT_sale</option>

                    

                
                
        <option value="353868">DresslilyUK_sale</option>

                    

                
                
        <option value="360783">Gamiss</option>

                    

                
                
        <option value="353824">NastydressIT</option>

                    

                
                
        <option value="353866">RosegalFR_sale</option>

                    

                
                
        <option value="353740">Rosegal_sale</option>

                    

                
                
        <option value="355696">Rosewholesale DE</option>

                    

                
                
        <option value="360785">Rosewholesale US</option>

                    

                
                
        <option value="348290">Sale</option>

                    

                
                
        <option value="356334">Sammydress FR</option>

                    

                
                
        <option value="360787">Sammydress.com US</option>

                    

                
                
        <option value="354020">SammydressES_sale</option>

                    

                
                
        <option value="360789">Twinkledeals</option>

                    

                
                
        <option value="357428">Yoshop</option>

                    

                
                
        <option value="359317">Yoshop DE</option>

                    

                
                
        <option value="359315">Yoshop DE Neukunde</option>

                    

                
                
        <option value="359521">Yoshop DE Neukunde_NoCupon</option>

                    

                
                
        <option value="357430">Yoshop IT</option>

                    

                
                
        <option value="359277">Zaful DE</option>

                    

                
                
        <option value="358388">Zaful DE Neukunde</option>

                    

                
                
        <option value="359517">Zaful DE Neukunde_NoCupon</option>

                    

                
                
        <option value="356336">ZafulFR</option>

                    

                
                
        <option value="353742">Zaful_sale</option>

                    

                
                
        <option value="348743">iApp_Android_download</option>

                    

                
                
        <option value="348747">iApp_iOS_download</option>

                    

                
                
        <option value="348745">iApp_Android_sale</option>

                    

                
                
        <option value="348749">iApp_iOS_sale</option>

                    

                
                
        <option value="354147">iDezzalDE_sale</option>

                    

                
                
        <option value="353863">iDezzalFR_sale</option>

                    

                
                
        <option value="353735">iDezzalIT_sale</option>

                    

                
                
        <option value="359452">iDresslily FR</option>

                    

                
                
        <option value="360780">iDresslily US</option>

                    

                
                
        <option value="353737">iDresslilyIT_sale</option>

                    

                
                
        <option value="353867">iDresslilyUK_sale</option>

                    

                
                
        <option value="360782">iGamiss</option>

                    

                
                
        <option value="353823">iNastydressIT</option>

                    

                
                
        <option value="353865">iRosegalFR_sale</option>

                    

                
                
        <option value="353739">iRosegal_sale</option>

                    

                
                
        <option value="355695">iRosewholesale DE</option>

                    

                
                
        <option value="360784">iRosewholesale US</option>

                    

                
                
        <option value="348289">iSale</option>

                    

                
                
        <option value="356333">iSammydress FR</option>

                    

                
                
        <option value="360786">iSammydress.com US</option>

                    

                
                
        <option value="354019">iSammydressES_sale</option>

                    

                
                
        <option value="360788">iTwinkledeals</option>

                    

                
                
        <option value="357427">iYoshop</option>

                    

                
                
        <option value="359316">iYoshop DE</option>

                    

                
                
        <option value="359314">iYoshop DE Neukunde</option>

                    

                
                
        <option value="359520">iYoshop DE Neukunde_NoCupon</option>

                    

                
                
        <option value="357429">iYoshop IT</option>

                    

                
                
        <option value="359276">iZaful DE</option>

                    

                
                
        <option value="358387">iZaful DE Neukunde</option>

                    

                
                
        <option value="359516">iZaful DE Neukunde_NoCupon</option>

                    

                
                
        <option value="356335">iZafulFR</option>

                    

                
                
        <option value="353741">iZaful_sale</option>

            
</select>
</td>
                                </tr><tr style="vertical-align: top;">
                            <td>
                                        <label>Pending status:</label>
                                        </td><td>
                                    
<select name="viewType"
                               id="#_viewType"                              class="reportInputField"
        			       style="width: 150px"				         >



            

                
                
        <option value="1" selected="selected">Todos</option>

                    

                
                
        <option value="4">Pending</option>

                    

                
                
        <option value="2">Approved</option>

                    

                
                
        <option value="3">Eliminado</option>

            
</select>
</td>
                                </tr><tr style="vertical-align: top;">
                            <td>
                                        <label>Añadir ID(p.ej. 111,222,333 ):</label>
                                        </td><td>
                                    
<input type="text"
                                   name="geId"
        value=""                     id="#_geId"                         class="reportInputField"
				   style="width: 150px"					    /></td>
                                </tr></table>
                     </td>
                     <td>
                        <table>
                             <script language="javascript">
var segments = null;
var countries = null;
var campaigns = null;
var pools = null;


    segments = new Array(
    
            new optionObject(272513, 'Coupon sites', 4),
        
            new optionObject(272513, 'General', 1),
        
            new optionObject(272513, 'Test', 2),
        
            new optionObject(272513, 'Top publisher', 3),
        
            new optionObject(285485, 'Coupon sites segment', 4),
        
            new optionObject(285485, 'General', 1),
        
            new optionObject(285485, 'Test', 2),
        
            new optionObject(285485, 'Top Publishers Segment', 3),
        
            new optionObject(285486, 'Coupon sites segment', 4),
        
            new optionObject(285486, 'General', 1),
        
            new optionObject(285486, 'Test', 2),
        
            new optionObject(285486, 'Top Publishers Segment', 3),
        
            new optionObject(285497, 'Coupon sites segment', 4),
        
            new optionObject(285497, 'General', 1),
        
            new optionObject(285497, 'Test', 2),
        
            new optionObject(285497, 'Top Publishers Segment', 3),
        
            new optionObject(285498, 'Coupon sites segment', 4),
        
            new optionObject(285498, 'General', 1),
        
            new optionObject(285498, 'Test', 2),
        
            new optionObject(285498, 'Top Publishers Segment', 3),
        
            new optionObject(null, null, null)
        );


function fillSegments(programId) {
    empty(document.selectionForm.segmentId);
    var count = 0;

    document.selectionForm.segmentId.options[count] = new Option('Todos','');
    count++;

    if(segments == null) {
        return;
    }
    for (i = 0; i < segments.length - 1; i++) {
        if (segments[i].id == programId) {
            document.selectionForm.segmentId.options[count] = segments[i].opt;
            
            if (document.selectionForm.segmentId.options[count].value == '') {
                document.selectionForm.segmentId.options[count].selected = true;
            }
            
            count++;
        }
    }
}

function fillCountries(programId) {
    empty(document.selectionForm.countryId);
    var count = 0;

    //All programs, then show To view for all Countries.
    if(programId == 0){
        document.selectionForm.countryId.options[count] = new Option('Todos','');
    }
    if(countries == null){
        return;
    }
    for (i=0; i<countries.length-1; i++) {
        if (countries[i].id == programId || (programId == -1)) {
            document.selectionForm.countryId.options[count] = countries[i].opt;
            
            count++;
        }
    }
}

function fillCampaigns(programId) {
    empty(document.selectionForm.campaignId);
    var count = 0;

    if(campaigns == null) {
        return;
    }
    for (i = 0; i < campaigns.length - 1; i++) {
        if (campaigns[i].id == programId) {
            document.selectionForm.campaignId.options[count] = campaigns[i].opt;
            
            count++;
        }
    }
}

function fillPools(programId) {
    empty(document.selectionForm.poolId);
    var count = 0;

    if(pools == null) {
        return;
    }
    for (i = 0; i < pools.length - 1; i++) {
        if (pools[i].id == programId) {
            document.selectionForm.poolId.options[count] = pools[i].opt;
            
            count++;
        }
    }
}

function rebuild() {
    if (document.selectionForm.programId) {
        var programId;
        if(document.selectionForm.programId.options){
            programId = document.selectionForm.programId.options[document.selectionForm.programId.selectedIndex].value;
        } else {
            // getting the programId from the hidden variable
            programId = document.selectionForm.programId.value;
        }
        if(programId){
        
            fillSegments(programId);
        
        }
    } else {
         
    }
}
</script>
        <tr style="vertical-align: top">
                    <td><label>Segmento:</label></td>
                    <td>
                       
<select name="segmentId"
                                 class="reportInputField"
        			       style="width: 150px"				         >




</select>
</td>
                </tr>
            <tr style="vertical-align: top">
                    <td><label>Moneda:</label></td>
                    <td>
                    
<select name="currencyId"
                               id="currencyId_selection"                              class="reportInputField"
        			       style="width: 150px"				             onchange="changeCurrency()"       >



            

                
                
        <option value="DZD">Algerian Dinar</option>

                    

                
                
        <option value="ARS">Argentine Peso</option>

                    

                
                
        <option value="AMD">Armenian Dram</option>

                    

                
                
        <option value="AUD">Australian Dollar</option>

                    

                
                
        <option value="BSD">Bahamian Dollar</option>

                    

                
                
        <option value="BHD">Bahraini Dinar</option>

                    

                
                
        <option value="PAB">Balboa</option>

                    

                
                
        <option value="BBD">Barbados Dollar</option>

                    

                
                
        <option value="BYR">Belarus Ruble</option>

                    

                
                
        <option value="BYB">Belarussian Ruble</option>

                    

                
                
        <option value="BZD">Belize Dollar</option>

                    

                
                
        <option value="BMD">Bermudian Dollar</option>

                    

                
                
        <option value="BOB">Boliviano</option>

                    

                
                
        <option value="BRL">Brazilian Real</option>

                    

                
                
        <option value="BND">Brunei Dollar</option>

                    

                
                
        <option value="BGN">Bulgarian Lev</option>

                    

                
                
        <option value="BIF">Burundi Franc</option>

                    

                
                
        <option value="CAD">Canadian Dollar</option>

                    

                
                
        <option value="CVE">Cape Verde Escudo</option>

                    

                
                
        <option value="KYD">Cayman Islands Dollar</option>

                    

                
                
        <option value="XOF">Cfa Franc Ao+</option>

                    

                
                
        <option value="XAF">Cfa Franc Beac</option>

                    

                
                
        <option value="CLP">Chilean Peso</option>

                    

                
                
        <option value="COP">Colombian Peso</option>

                    

                
                
        <option value="BAM">Convertible Marks</option>

                    

                
                
        <option value="CRC">Costa Rican Col&#xF3;n</option>

                    

                
                
        <option value="CZK">Czech Koruna</option>

                    

                
                
        <option value="GMD">Dalasi</option>

                    

                
                
        <option value="DKK">Danish Krone</option>

                    

                
                
        <option value="DOP">Dominican Peso</option>

                    

                
                
        <option value="XCD">East Caribbean Dollar</option>

                    

                
                
        <option value="EGP">Egyptian Pound</option>

                    

                
                
        <option value="ETB">Ethiopian Birr</option>

                    

                
                
        <option value="EUR">Euro</option>

                    

                
                
        <option value="FJD">Fiji Dollar</option>

                    

                
                
        <option value="HUF">Forint</option>

                    

                
                
        <option value="CDF">Franc Congolais</option>

                    

                
                
        <option value="XPF">French Pacific Franc</option>

                    

                
                
        <option value="GHS">Ghana Cedi</option>

                    

                
                
        <option value="GIP">Gibraltar Pound</option>

                    

                
                
        <option value="GNF">Guinea Franc</option>

                    

                
                
        <option value="GYD">Guyana Dollar</option>

                    

                
                
        <option value="HKD">Hong Kong Dollar</option>

                    

                
                
        <option value="UAH">Hryvnia</option>

                    

                
                
        <option value="ISK">Iceland Krona</option>

                    

                
                
        <option value="INR">Indian Rupee</option>

                    

                
                
        <option value="IRR">Iranian Rial</option>

                    

                
                
        <option value="IQD">Iraqi Dinar</option>

                    

                
                
        <option value="ILS">Israeli New Shekel</option>

                    

                
                
        <option value="JMD">Jamaican Dollar</option>

                    

                
                
        <option value="JOD">Jordanian Dinar</option>

                    

                
                
        <option value="KES">Kenyan Shilling</option>

                    

                
                
        <option value="PGK">Kina</option>

                    

                
                
        <option value="LAK">Kip</option>

                    

                
                
        <option value="HRK">Kuna</option>

                    

                
                
        <option value="KWD">Kuwaiti Dinar</option>

                    

                
                
        <option value="MWK">Kwacha</option>

                    

                
                
        <option value="MMK">Kyat</option>

                    

                
                
        <option value="GEL">Lari</option>

                    

                
                
        <option value="LVL">Latvian Lats</option>

                    

                
                
        <option value="LBP">Lebanese Pound</option>

                    

                
                
        <option value="SLL">Leone</option>

                    

                
                
        <option value="LTL">Lithuanian Litas</option>

                    

                
                
        <option value="MKD">Macedonian Denar</option>

                    

                
                
        <option value="MGA">Madagascar Ariary</option>

                    

                
                
        <option value="MYR">Malaysian Ringgit</option>

                    

                
                
        <option value="MUR">Mauritius Rupee</option>

                    

                
                
        <option value="MXN">Mexican Peso</option>

                    

                
                
        <option value="MAD">Moroccan Dirham</option>

                    

                
                
        <option value="MZN">Mozambique Metical</option>

                    

                
                
        <option value="NGN">Naira</option>

                    

                
                
        <option value="NPR">Nepalese Rupee</option>

                    

                
                
        <option value="ANG">Netherlandsantillianguild</option>

                    

                
                
        <option value="TWD">New Taiwan Dollar</option>

                    

                
                
        <option value="NZD">New Zealand Dollar</option>

                    

                
                
        <option value="NOK">Norwegian Krone</option>

                    

                
                
        <option value="AZN">not found</option>

                    

                
                
        <option value="MRO">Ouguiya</option>

                    

                
                
        <option value="TOP">Paanga</option>

                    

                
                
        <option value="PKR">Pakistan Rupee</option>

                    

                
                
        <option value="PYG">Paraguay Guarani</option>

                    

                
                
        <option value="MOP">Pataca</option>

                    

                
                
        <option value="PEN">Peruvian Nuevo Sol </option>

                    

                
                
        <option value="PHP">Philippine Peso</option>

                    

                
                
        <option value="GBP">Pound Sterling</option>

                    

                
                
        <option value="BWP">Pula</option>

                    

                
                
        <option value="QAR">Qatari Rial</option>

                    

                
                
        <option value="GTQ">Quetzal</option>

                    

                
                
        <option value="OMR">Rial Omani</option>

                    

                
                
        <option value="KHR">Riel</option>

                    

                
                
        <option value="RON">Romanian Leu</option>

                    

                
                
        <option value="IDR">Rupiah</option>

                    

                
                
        <option value="RUB">Russian Ruble</option>

                    

                
                
        <option value="RWF">Rwanda Franc</option>

                    

                
                
        <option value="SAR">Saudi Arabia, Riyals</option>

                    

                
                
        <option value="RSD">Serbian Dinar</option>

                    

                
                
        <option value="SCR">Seychelles Rupee</option>

                    

                
                
        <option value="SGD">Singapore Dollar</option>

                    

                
                
        <option value="SBD">Solomon Islands Dollar</option>

                    

                
                
        <option value="ZAR">South African Rand</option>

                    

                
                
        <option value="LKR">Sri Lanka Rupee</option>

                    

                
                
        <option value="SDG">Sudan Pound</option>

                    

                
                
        <option value="SEK">Swedish Krona</option>

                    

                
                
        <option value="CHF">Swiss Franc</option>

                    

                
                
        <option value="SYP">Syrian Pound</option>

                    

                
                
        <option value="BDT">Taka</option>

                    

                
                
        <option value="WST">Tala</option>

                    

                
                
        <option value="TZS">Tanzanian Shilling</option>

                    

                
                
        <option value="KZT">Tenge</option>

                    

                
                
        <option value="THB">Thailand Baht</option>

                    

                
                
        <option value="TTD">Trinidad Tobago Dollar</option>

                    

                
                
        <option value="TND">Tunisian Dinar</option>

                    

                
                
        <option value="TRY">Turkish Lira</option>

                    

                
                
        <option value="TMT">Turkmenistan Manat</option>

                    

                
                
        <option value="AED">Uae Dirham</option>

                    

                
                
        <option value="UGX">Uganda Shilling</option>

                    

                
                
        <option value="UYU">Uruguayan Peso</option>

                    

                
                
        <option value="USD" selected="selected">Us Dollar</option>

                    

                
                
        <option value="UZS">Uzbekistan Sum</option>

                    

                
                
        <option value="VUV">Vatu</option>

                    

                
                
        <option value="VEF">Venezuelan Bolivar Fuerte</option>

                    

                
                
        <option value="VND">Vietnamese Dong</option>

                    

                
                
        <option value="KRW">Won</option>

                    

                
                
        <option value="YER">Yemeni Rial</option>

                    

                
                
        <option value="JPY">Yen</option>

                    

                
                
        <option value="CNY">Yuan Renminbi</option>

                    

                
                
        <option value="PLN">Zloty</option>

            
</select>
</td>
                </tr>
            <tr style="vertical-align: top;">
                <td><label>Período:</label></td>
                <td>
                    
<select name="period"
                                 class="reportInputField"
        			       style="width: 150px"				             onchange="periodChange()"       >



            

                
                
        <option value="custom_period" selected="selected">Per&#xED;odo personalizado</option>

                    

                
                
        <option value="today">Hoy</option>

                    

                
                
        <option value="yesterday">Ayer</option>

                    

                
                
        <option value="this_week">Esta semana</option>

                    

                
                
        <option value="last_week">Semana anterior</option>

                    

                
                
        <option value="this_month">Este mes</option>

                    

                
                
        <option value="last_month">Mes anterior</option>

                    

                
                
        <option value="year_to_date">Este a&#xF1;o hasta hoy</option>

            
</select>
</td>
            </tr>
            <!-- A period, ie from-to date -->
            <tr style="vertical-align: top;">
                    <td><label>Fecha de comienzo:</label> (d/MM/yy)</td>
                    <td style="white-space: nowrap">
                        

<script type="text/javascript" src="/pan/website/js/calendar.js"></script>
<script type="text/javascript" src="/pan/website/js/calendar-setup.js"></script>
<script type="text/javascript">
    Calendar._DN = new Array("domingo", "lunes", "martes", "miércoles", "jueves", "viernes", "sábado", "domingo");
    Calendar._SMN = new Array("ene", "feb", "mar", "abr", "may", "jun", "jul", "ago", "sep", "oct", "nov", "dic");
    Calendar._SDN = new Array("dom", "lun", "mar", "mié", "jue", "vie", "sáb", "dom");
    Calendar._MN = new Array("enero", "febrero", "marzo", "abril", "mayo", "junio", "julio", "agosto", "septiembre", "octubre", "noviembre", "diciembre");
    Calendar._TT = {};
    Calendar._TT["TODAY"] = "Hoy";
    Calendar._TT["DEF_DATE_FORMAT"] = "%e/%m/%y";
</script>
<input type="text"
                                   name="startDate"
        value="10/01/17"               class="reportInputField"
				   style="width: 150px"					                                       id="id_startDate"
/>&nbsp;<img src="/pan/website/images/calender_icon.gif" id="c_startDate" border="0" />
<script type="text/javascript">
    Calendar.setup({
        inputField  : "id_startDate",
        ifFormat    : "%e/%m/%y",
        button      : "c_startDate",
        align       : "Bl",
        singleClick : false,
        mondayFirst : true,
        weekNumbers : false
    });
</script></td>
                </tr>

                <tr style="vertical-align: top;">
                    <td><label>Fecha final:</label> (d/MM/yy)</td>
                    <td style="white-space: nowrap">
                        

<input type="text"
                                   name="endDate"
        value="10/06/19"               class="reportInputField"
				   style="width: 150px"					                                       id="id_endDate"
/>&nbsp;<img src="/pan/website/images/calender_icon.gif" id="c_endDate" border="0" />
<script type="text/javascript">
    Calendar.setup({
        inputField  : "id_endDate",
        ifFormat    : "%e/%m/%y",
        button      : "c_endDate",
        align       : "Bl",
        singleClick : false,
        mondayFirst : true,
        weekNumbers : false
    });
</script></td>
                </tr>
                
                 <tr style="vertical-align: top;">
                <td>
                                        <label>Filter by hour:</label>
                                        </td><td>
                                    
            

                
                

        <span><input
            type="radio"
                         name="filterOnTimeHrsInterval"  id="#_filterOnTimeHrsInterval_true"                            value="true"                                                                                 onclick="postBack(this.form)"         
        /><label for="#_filterOnTimeHrsInterval_true">&nbsp;Sí</label></span><br>

                    

                
                

        <span><input
            type="radio"
            checked="checked"             name="filterOnTimeHrsInterval"  id="#_filterOnTimeHrsInterval_false"                            value="false"                                                                                 onclick="postBack(this.form)"         
        /><label for="#_filterOnTimeHrsInterval_false">&nbsp;No</label></span><br>

            </td>
                                </tr><tr style="vertical-align: top;">
                            <td>
                                        <label>ID del website:</label>
                                        </td><td>
                                    
<input type="text"
                                   name="affiliateId"
        value=""                     id="#_affiliateId"                         class="reportInputField"
				   style="width: 150px"					    /></td>
                                </tr><tr style="vertical-align: top;">
                            <td>
                                        <label>Mobile:</label>
                                        </td><td>
                                    
            

                
                

        <span><input
            type="radio"
            checked="checked"             name="includeMobile"  id="#_includeMobile_1"                            value="1"                                                                            
        /><label for="#_includeMobile_1">&nbsp;Sí</label></span><br>

                    

                
                

        <span><input
            type="radio"
                         name="includeMobile"  id="#_includeMobile_2"                            value="2"                                                                            
        /><label for="#_includeMobile_2">&nbsp;Sólo mobile</label></span><br>

            </td>
                                </tr></table>
                     </td>
                     </tr>
             </table>
         </td>
     </tr>
     <tbody id="mainToggle">
     <tr>
         <td class="topBorder"><a href="javascript:advanced()" class="noDecoration"><img src="/pan/img/plus.gif"/>&nbsp;Avanzado</a></td>

         <td class="topBorder" align="right"><input type="reset" class="button" value="Volver por defecto"/>

             <input type="button" class="button" id="rptRunTopBtn" value="Ejecutar Informe" onclick="return doAction('mReport3Internal.action',this.form, false,  'callValidate()' )"/>
     </tr>
     </tbody>
     <tbody id="advToggle">
     <tr>
         <td colspan="2" class="topBorder"><a href="javascript:normal()" class="noDecoration"><img src="/pan/img/minus.gif"/>&nbsp;Avanzado</a></td>
     </tr>
     </tbody>
     <tbody id="advBody">
     <tr>
         <td colspan="2">
             <table id="columnTable" cellpadding="4" ><tr>
                 </tr>
                 <tr>
                 <td><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("programCountry", "programName", "programId"))'>Programa:</label><br/>
                     
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="programCountry"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("programCountry"))'>País</label>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="programName"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("programName"))'>Nombre</label>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="programId"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("programId"))'>ID</label>
                         </td>
                 <td><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("time_of_visit", "timeOfEvent", "in_session"))'>Hora:</label><br/>
                     
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="time_of_visit"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("time_of_visit"))'>de visita</label>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="timeOfEvent"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("timeOfEvent"))'>de evento</label>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="in_session"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("in_session"))'>En sesión</label>
                         </td>
                 </tr>
                 <tr>
                 <td><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("eventName", "eventId"))'>Evento:</label><br/>
                     
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="eventName"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("eventName"))'>Nombre</label>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="eventId"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("eventId"))'>ID</label>
                         </td>
                 <td><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("siteName", "siteId"))'>Sitio web:</label><br/>
                     
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="siteName"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("siteName"))'>Nombre</label>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="siteId"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("siteId"))'>ID</label>
                         </td>
                 </tr>
                 <tr>
                 <td><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("product_name", "product_number", "productNrOf", "product_value"))'>Producto:</label><br/>
                     
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="product_name"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("product_name"))'>Name</label>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="product_number"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("product_number"))'>ID</label>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="productNrOf"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("productNrOf"))'>#</label>
                         <br/>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="product_value"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("product_value"))'>Valor</label>
                         </td>
                 <td><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("open_product_feeds_id", "open_product_feeds_name"))'>Products Open API información:</label><br/>
                     
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="open_product_feeds_id"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("open_product_feeds_id"))'>Open product feeds id</label>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="open_product_feeds_name"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("open_product_feeds_name"))'>Nombre del producto</label>
                         </td>
                 </tr>
                 <tr>
                 <td><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("voucher_code"))'>Vouchers:</label><br/>
                     
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="voucher_code"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("voucher_code"))'>Voucher code</label>
                         </td>
                 <td><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("deviceType", "os", "browser", "vendor", "device", "userAgent"))'>Mobile:</label><br/>
                     
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="deviceType"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("deviceType"))'>Tipo de Dispositivo</label>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="os"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("os"))'>Sistema Operativo</label>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="browser"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("browser"))'>Navegador</label>
                         <br/>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="vendor"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("vendor"))'>Fabricante</label>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="device"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("device"))'>Dispositivo</label>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="userAgent"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("userAgent"))'>Navegador</label>
                         </td>
                 </tr>
                 <tr>
                 <td><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("tdCommission", "affiliateCommission", "totalCommission"))'>Comisión:</label><br/>
                     
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="tdCommission"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("tdCommission"))'>TD</label>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="affiliateCommission"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("affiliateCommission"))'>Pub. Total</label>
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="totalCommission"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("totalCommission"))'>Total</label>
                         </td>
                 </tr>
                 <tr><td colspan="2"><table>
                     <tr valign="bottom">
                     <td valign="botttom" >
                         <label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("segmentName", "order_number", "slccId", "organizationId", "graphicalElementId", "pf_product", "orderValue", "pending_status", "last_changed", "reason", "epi1", "epi2", "cdt_validation_method_id", "validon", "pendingRule", "claim_id"))'>Columnas adicionales:</label>
                            <br>
                            
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="segmentName"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("segmentName"))'>Nombre del segmento</label>
                         </td>
                         <td valign="botttom" >
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="order_number"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("order_number"))'>Num. Orden</label>
                         </td>
                         <td valign="botttom" >
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="slccId"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("slccId"))'>Trans. Id</label>
                         </td>
                         </tr>
                     <tr>
                         <td valign="botttom" >
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="organizationId"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("organizationId"))'>Org ID</label>
                         </td>
                         <td valign="botttom" >
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="graphicalElementId"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("graphicalElementId"))'>ID de elemento gráfico</label>
                         </td>
                         <td valign="botttom" >
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="pf_product"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("pf_product"))'>Pf Product Id</label>
                         </td>
                         </tr>
                     <tr>
                         <td valign="botttom" >
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="orderValue"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("orderValue"))'>Valor de compra</label>
                         </td>
                         <td valign="botttom" >
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="pending_status"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("pending_status"))'>Estado</label>
                         </td>
                         <td valign="botttom" >
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="last_changed"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("last_changed"))'>Last changed</label>
                         </td>
                         </tr>
                     <tr>
                         <td valign="botttom" >
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="reason"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("reason"))'>Reason</label>
                         </td>
                         <td valign="botttom" >
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="epi1"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("epi1"))'>EPI 1</label>
                         </td>
                         <td valign="botttom" >
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="epi2"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("epi2"))'>EPI 2</label>
                         </td>
                         </tr>
                     <tr>
                         <td valign="botttom" >
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="cdt_validation_method_id"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("cdt_validation_method_id"))'>Cross Device</label>
                         </td>
                         <td valign="botttom" >
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="validon"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("validon"))'>Fecha de validez</label>
                         </td>
                         <td valign="botttom" >
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="pendingRule"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("pendingRule"))'>Regla de validación</label>
                         </td>
                         </tr>
                     <tr>
                         <td valign="botttom" >
                         
<input type="hidden" name="autoCheckbox" value="columns" />
<input type="checkbox" name="columns" value="claim_id"
                               id="#_columns"                /><label class="pointerhand" onclick='javascript:setColumnCheckboxGroup(new Array("claim_id"))'>Claim ID</label>
                         </td>
                         </tr>
                 </table></td></tr>
                 </table>
         </td>
     </tr>
     <tr>
         </tr>
     <tr>
         <td colspan="2">
         <table>
             <tr>
                 <td><table id="metricSection">
                     <tr>
                         <td colspan="2">&nbsp;</td>
                     </tr>
                     <tr>
                         <td colspan="2">
                             <div align="left">
                                     
<input type="hidden" name="autoCheckbox" value="useMetricColumn" />
<input type="checkbox" name="useMetricColumn" value="true"
                               id="useMetricColumn"                />
<label
               id="#_null"                    >Custom key metrics</label><input
    type="hidden"
          name="customKeyMetricCount"            value="0"                     id="customKeyMetricCount"           /></div>
                             </td>
                     </tr>
                     <tr>
                         <td nowrap="nowrap" align="right"><a href="javascript:doNothing()" onclick="javascript:deleteLastKeyMetric()">
<label
               id="#_null"                    >Delete key metric</label></td>
                             <td nowrap="nowrap">&nbsp; <a href="javascript:doNothing()" onclick="addCustomKeyMetric()">
<label
               id="#_null"                    >Add key metric</label></a> </td>
                         </tr>
                 </table></td>
             </tr>
         </table>
         </td>
     </tr>
     <tr>
         <td colspan="2" class="topBorder">
             <table><tr>
                     <td>Formato de salida:</td>
                 </tr>
                 <tr>
                     <td>
                         
            

                
                
        <input
            type="radio"
                                                                name="format"
                                        id="formatHTML"
                                      value="HTML"                                                                                onchange="changeFormat(value)"               /><label for="formatHTML">HTML</label>

                    

                
                
        <input
            type="radio"
                                                                name="format"
                                        id="formatPDF"
                                      value="PDF"                                                                                onchange="changeFormat(value)"               /><label for="formatPDF">PDF</label>

                    

                
                
        <input
            type="radio"
            checked="checked"                                                    name="format"
                                        id="formatEXCEL"
                                      value="EXCEL"                                                                                onchange="changeFormat(value)"               /><label for="formatEXCEL">EXCEL</label>

                    

                
                
        <input
            type="radio"
                                                                name="format"
                                        id="formatXML"
                                      value="XML"                                                                                onchange="changeFormat(value)"               /><label for="formatXML">XML</label>

                    

                
                
        <input
            type="radio"
                                                                name="format"
                                        id="formatCSV"
                                      value="CSV"                                                                                onchange="changeFormat(value)"               /><label for="formatCSV">CSV</label>

                    

                
                
        <input
            type="radio"
                                                                name="format"
                                        id="formatEXCEL2007"
                                      value="EXCEL2007"                                                                                onchange="changeFormat(value)"               /><label for="formatEXCEL2007">EXCEL2007</label>

            <span id="seperatordiv" style="display:''">
                                
<label
               id="separator_label"                    >Separator</label>
<input type="text"
                                   name="separator"
        value=""                     id="separator"                         class="reportInputField"
         style="width:50px"
/></span>
                         </td>
                 </tr>
                 <tr>
                     <td align="right">
                        <input type="reset" class="button" value="Volver por defecto"/>&nbsp;
                        <input type="button" class="button" id="rptRunBottomBtn" value="Ejecutar Informe" onclick="return doAction( 'mReport3Internal.action',this.form, false,  'callValidate()' )"/>
                    </td>
                 </tr>
             </table>
         </td>
     </tr>
     </tbody>

     <tbody id="favMainToggle">
     <tr>
         <td colspan="2" class="topBorder"><a href="javascript:showAddToFavorites()" class="noDecoration"><img src="/pan/img/plus.gif"/>&nbsp;Añadir a Mis informes</a></td>
     </tr>
     </tbody>

     <tbody id="favToggle">
     <tr>
         <td colspan="2" class="topBorder"><a href="javascript:hideAddToFavorites()" class="noDecoration"><img src="/pan/img/minus.gif"/>&nbsp;Añadir a Mis informes</a></td>
     </tr>
     </tbody>

     <tbody id="favBody">
     <tr>
         <td colspan="2">
             <table><tr valign="top" >
                     <td>
                         
<label
               id="#_lblMyReportName"                    >Nombre de Mi informe :</label><input
    type="hidden"
          name="dateType"            value="1"                     id="#_dateType"           /><input
    type="hidden"
          name="favoriteId"            value=""                     id="favoriteId"           /></td>
                     <td>
                         
<input type="text"
                                   name="favoriteName"
        value=""                     id="favoriteName"                         class="reportInputField"
				   style="width: 150px"					    /></td>
                     <td>
                         
<label
               id="#_lblMyReportValue"                    >Mi descripción :</label></td>
                     <td>
                        
<textarea name="favoriteDescription"
          cols=""
          rows="4"
        value=""                     id="favoriteDescription"                         class="reportInputField"
         style="width: 150px"       ></textarea>
</td>
                 </tr>
                 <tr>
                     <td colspan="4" align="right" >
                         
   <script type="text/javascript">
   function doAction(target,f,submitButton,codeString) {
       var retVal = true;
       if (codeString != null) {
           var result = eval(codeString);
           if (result != null) {
               retVal = result;
           }
       }
       f.action = target;
       if(submitButton) {
          // we dont need a programatic submit here, the submit button do that for us if true is returned
          return retVal;
       } else {
          if(retVal) {
            f.submit();
          }
          return retVal;
       }
   }
   </script>
                                    <input type="button" value="Guardar como favorito" name="button1" onclick="return doAction('mReport3SaveFavorite.action',this.form, false,  'validateCustomKeyMetrices()' )" class="button"/>
                               

   <script type="text/javascript">
   function doAction(target,f,submitButton,codeString) {
       var retVal = true;
       if (codeString != null) {
           var result = eval(codeString);
           if (result != null) {
               retVal = result;
           }
       }
       f.action = target;
       if(submitButton) {
          // we dont need a programatic submit here, the submit button do that for us if true is returned
          return retVal;
       } else {
          if(retVal) {
            f.submit();
          }
          return retVal;
       }
   }
   </script>
                                              <input type="button" value="Suscribirse" name="button2" onclick="return doAction('mReport3SaveFavoriteAndSubscribe.action',this.form, false,  'validateCustomKeyMetrices()' )" class="button"/>
                     
</td>
                 </tr>
             </table>
         </td>
     </tr>
     </tbody>
     </table>
<div id="progressBar" class="progressBar" style="position:absolute;"></div>
<script language="JavaScript">
    
    //hiding the progressbar on unload
    window.onunload = hideProgress;

    var progressEnd = 12;
    var progressInterval = 500;
    var progressAt = progressEnd;
    var progressTimer;
    var progressCounter = 1;

    function progressClear() {
        for (var i = 1; i <= progressEnd; i++) {
            //document.getElementById('progress' + i).style.backgroundColor = 'transparent';
            document.getElementById('progress' + i).className = 'transparentColour';
        }

        progressAt = 0;
    }

    function progressUpdate() {
        progressAt++;
        if (progressAt > progressEnd) {
            progressClear();
        }
        else {
            //document.getElementById('progress' + progressAt).style.backgroundColor = progressColour;
            document.getElementById('progress' + progressAt).className = 'progressColour';
        }

        if(reportFormat != 'HTML'){
            progressCounter ++;

            if(progressCounter == 5){                
                progressCounter = 1;// reset the counter to make sure this conditional block executes again for  non-HTML executions
                clearProgressBar();
                
                return;
            }
        }
      progressTimer = setTimeout('progressUpdate()', progressInterval);
    }

    function progressStop() {
        clearTimeout(progressTimer);
        progressClear();
    }

    function hideProgress() {
       getById('progressBar').style.visibility = "hidden";
       getById('progressBar').style.display = "none";
    }

    function progressStart(waitText) {

        var progress = getById('progressBar');

        progressAt = 0;
        var scroll = getScroll();


        progress.innerHTML = '<table class="progressTable" bordercolor="#000000" style="width:1px;" align="center">' +
                '<tr><td class="progressText">'+
                waitText+
                '</td></tr>' +
                '<tr><td class="progressBar">' +
                '<span id="progress1">&nbsp; &nbsp;</span>' +
                '<span">&nbsp;</span>' +
                '<span id="progress2">&nbsp; &nbsp;</span>' +
                '<span">&nbsp;</span>' +
                '<span id="progress3">&nbsp; &nbsp;</span>' +
                '<span">&nbsp;</span>' +
                '<span id="progress4">&nbsp; &nbsp;</span>' +
                '<span">&nbsp;</span>' +
                '<span id="progress5">&nbsp; &nbsp;</span>' +
                '<span">&nbsp;</span>' +
                '<span id="progress6">&nbsp; &nbsp;</span>' +
                '<span">&nbsp;</span>' +
                '<span id="progress7">&nbsp; &nbsp;</span>' +
                '<span">&nbsp;</span>' +
                '<span id="progress8">&nbsp; &nbsp;</span>' +
                '<span">&nbsp;</span>' +
                '<span id="progress9">&nbsp; &nbsp;</span>' +
                '<span">&nbsp;</span>' +
                '<span id="progress10">&nbsp; &nbsp;</span>' +
                '<span">&nbsp;</span>' +
                '<span id="progress11">&nbsp; &nbsp;</span>' +
                '<span">&nbsp;</span>' +
                '<span id="progress12">&nbsp; &nbsp;</span>' +
                '</td></tr></table>';

        progress.style.top = (getBrowserHeight() - progress.scrollHeight) / 2 + scroll.y;
        progress.style.left = (getBrowserWidth() - progress.scrollWidth) / 2 + scroll.x;

        progress.style.visibility  = "visible";

        progressUpdate();
    }

    function clearProgressBar() {
       getById('progressBar').style.visibility = "hidden";
	   progressAt = 0
	   clearTimeout(progressTimer);
    }
    
</script></form><script language="javascript">

     
        changeCurrency();
     

     if (getById("customKeyMetricCount") && getById("customKeyMetricCount").value == 0) {
        addCustomKeyMetric();
     }

     
         advanced();
     
         hideAddToFavorites();
     

     document.getElementsByName('selectionForm')[0].onchange = updateAPIURL;
     rebuild();
     disableRunReportBtn(false, 'HTML');

     var body = document.getElementsByTagName("body")[0]
       , originalClickHandler = body.onclick || function (){}

     body.onclick = function(e) {
         originalClickHandler.call(this, e)
         if(e.target.calendar){
             updateAPIURL();
         }
     }

 </script>
 <!--</body>-->
 <!--</html>--></td></tr>
    </table>
<!--- ********************* /MAIN PAGE ********************************************************** -->
  </td>
</tr>
</table>



<!--- ********************* /MAIN ********************************************************** -->
<!--- ********************* TAIL ********************************************************** -->
<table style="border-width: 1px 0 0 0;">
	<tr>
		<td style="width:500px" align="right">
			Copyright &copy; 2017 Tradedoubler</td>
	</tr>
</table>
<!--- ********************* /TAIL ********************************************************** -->

</body>
 </html>